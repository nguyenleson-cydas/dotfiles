# vim: ft=tmux
# ============================================================================
# Key Bindings Configuration
# ============================================================================

# ----------------------------------------------------------------------------
# Prefix Key
# ----------------------------------------------------------------------------
set -g repeat-time 0

# ----------------------------------------------------------------------------
# Vi Mode
# ----------------------------------------------------------------------------
set -g mode-keys vi

# ----------------------------------------------------------------------------
# Configuration Management
# ----------------------------------------------------------------------------
# Reload tmux configuration
bind r source-file ~/.config/tmux/tmux.conf \; display "Reloaded!"

# ----------------------------------------------------------------------------
# File & Directory Operations
# ----------------------------------------------------------------------------
# Open current directory in Finder (macOS)
bind o run-shell "open '#{pane_current_path}'"

# ----------------------------------------------------------------------------
# Pane Management
# ----------------------------------------------------------------------------
# Kill all panes except current
bind -r e kill-pane -a

# Vim-style pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Better split commands (open in current path)
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"



# ----------------------------------------------------------------------------
# Window Management
# ----------------------------------------------------------------------------
# Move windows left/right with Ctrl+Shift+Arrow
bind -n C-S-Left swap-window -t -1 \; previous-window
bind -n C-S-Right swap-window -t +1 \; next-window
# New window in current path
bind c new-window -c "#{pane_current_path}"


bind G display-popup -d '#{pane_current_path}' -E -w 80% -h 80% "lazygit"
bind B display-popup -E -w 80% -h 80% "btop"
bind N display-popup -E "nvim ~/notes/quick-note.md"
bind T display-popup -E "t"
bind S display-popup -w 80% -h 80% -E $SHELL
